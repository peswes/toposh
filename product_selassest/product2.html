

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Toposh Collections - eCommerce Website</title>

  <link rel="stylesheet" href="product.css">
  <link rel="stylesheet" href="../assets/css/style.css">
<link rel="stylesheet" href="../assets/css/search.css">



  <!--
    - favicon
  -->
  <link rel="shortcut icon" href="./assets/images/logo/favicon.ico" type="image/x-icon">

  <!--
    - custom css link
  -->
    <link rel="stylesheet" href="../assets/css/style-prefix.css">
  <!--
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">



 
  <div class="overlay" data-overlay></div>





  <!--
    - HEADER
  -->

  <header>

    <div class="header-top">

      <div class="container">

        <ul class="header-social-container">

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-twitter"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>

        </ul>

        <div class="header-alert-news">
          <p>
            <b>Free Shipping</b>
            This Week Order Over - $55
          </p>
        </div>

        <div class="header-top-actions">

          <select name="currency">

            <option value="usd">USD &dollar;</option>
            <option value="eur">EUR &euro;</option>

          </select>

          <select name="language">

            <option value="en-US">English</option>
            <option value="es-ES">Espa&ntilde;ol</option>
            <option value="fr">Fran&ccedil;ais</option>

          </select>

        </div>

      </div>

    </div>

    <div class="header-main">

      <div class="container">

        <a href="#" class="header-logo">
  <p style="font-size: 1.5rem;
  color: rgb(8, 0, 0); ">Toposh Collections</p>
        </a>

        <!-- <div class="header-search-container">

          <input type="search" name="search" class="search-field" placeholder="Enter your product name...">

          <button class="search-btn">
            <ion-icon name="search-outline"></ion-icon>
          </button>

        </div> -->


        
  <!-- üîç SEARCH BAR -->
  <div class="header-search-wrapper">
    <div class="header-search-container">
      <input type="search" id="searchInput" class="search-field" placeholder="Search products..." />
      <button class="search-btn" onclick="filterProducts()">üîç</button>
    </div>

    <!-- üîé Search Result Dropdown -->
    <div id="resultsWrapper" class="search-results-wrapper">
      <div id="resultsDropdown"></div>
    </div>
  </div>

        <div class="header-user-actions">

          <button class="action-btn">
            <ion-icon name="person-outline"></ion-icon>
          </button>

          <button class="action-btn">
            <ion-icon name="heart-outline"></ion-icon>
            <span class="count">0</span>
          </button>

          <button class="action-btn">
            <ion-icon name="bag-handle-outline"></ion-icon>
            <span class="count">0</span>
          </button>

        </div>

      </div>

    </div>



  </header>




</head>
<body>
<style>
    :root {
      --pink: hsl(0, 100%, 70%);
      --white: #fff;
      --gray: #f2f2f2;
      --text-dark: #333;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: var(--gray);
      color: var(--text-dark);
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 2rem;
    }

    .product-page {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      background: var(--white);
      padding: 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }

    .product-images {
      flex: 1;
      min-width: 280px;
    }

    .product-images img {
      width: 100%;
      border-radius: 1rem;
      margin-bottom: 1rem;
      height: 450px;
      object-fit: cover;
    }

    .thumbnail-slider {
      display: flex;
      gap: 0.75rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
    }

    .thumbnail-slider img {
      flex: 0 0 auto;
      width: 45px;
      height: 45px;
      object-fit: cover;
      border-radius: 0.4rem;
      cursor: pointer;
      border: 2px solid transparent;
      transition: transform 0.2s ease;
    }

    .thumbnail-slider img.active {
      border-color: var(--pink);
      transform: scale(1.05);
    }

    .product-details {
      flex: 1;
      min-width: 280px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .product-info h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .price {
      color: var(--pink);
      font-size: 1.5rem;
      margin: 1rem 0;
    }

    .description {
      font-size: 1rem;
      line-height: 1.6;
      color: #555;
      margin-bottom: 1rem;
    }

    .sizes h3 {
      margin-bottom: 0.5rem;
    }

    .size-options {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .size-box {
      border: 2px solid var(--pink);
      padding: 0.6rem 1rem;
      border-radius: 1rem;
      cursor: pointer;
      font-weight: bold;
      background: var(--white);
      transition: all 0.3s ease;
    }

    .size-box.selected {
      background: var(--pink);
      color: var(--white);
    }

    .buttons {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }

    .buttons button {
      flex: 1;
      padding: 1rem;
      border: none;
      border-radius: 2rem;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s ease;
    }

    .add-to-cart {
      background: var(--pink);
      color: var(--white);
    }

    .add-to-cart:hover {
      background: hsl(0, 100%, 60%);
    }

    .buy-now {
      background: var(--white);
      color: var(--pink);
      border: 2px solid var(--pink);
    }

    .buy-now:hover {
      background: var(--pink);
      color: var(--white);
    }

    .similar-products {
      margin-top: 3rem;
    }

    .similar-products h2 {
      color: var(--pink);
      margin-bottom: 1rem;
    }

    .similar-list {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      padding-bottom: 1rem;
    }

    .similar-card {
      background: var(--white);
      flex: 0 0 180px;
      border-radius: 1rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
      text-align: center;
      padding: 1rem;
    }

    .similar-card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .similar-card a {
      display: inline-block;
      padding: 0.5rem 1rem;
      background: var(--pink);
      color: var(--white);
      border-radius: 1.5rem;
      text-decoration: none;
      font-weight: bold;
    }

    .reviews {
      margin-top: 3rem;
      background: var(--white);
      padding: 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 0 15px rgba(0,0,0,0.05);
    }

    .reviews h2 {
      color: var(--pink);
      margin-bottom: 1rem;
    }

    #reviewForm input, #reviewForm textarea {
      width: 100%;
      padding: 0.75rem;
      margin-bottom: 1rem;
      border-radius: 0.75rem;
      border: 1px solid #ccc;
    }

    .stars span {
      font-size: 1.5rem;
      cursor: pointer;
      color: #ccc;
    }

    .stars span.selected {
      color: var(--pink);
    }

    #reviewForm button {
      background: var(--pink);
      color: white;
      padding: 0.75rem 1.2rem;
      border: none;
      border-radius: 1rem;
      font-weight: bold;
      cursor: pointer;
    }

    #allReviews .review {
      border-bottom: 1px solid #eee;
      padding: 1rem 0;
    }

    .review strong {
      display: block;
      margin-bottom: 0.25rem;
    }

    @media (max-width: 768px) {
      .product-page {
        flex-direction: column;
      }

      .product-images img {
        height: 280px;
      }

      .thumbnail-slider img {
        width: 38px;
        height: 38px;
      }

      .buttons {
        flex-direction: column;
      }

      .buttons button {
        width: 100%;
      }
    }

    .similar-list::-webkit-scrollbar {
  height: 8px;
}

.similar-list::-webkit-scrollbar-track {
  background: var(--gray);
  border-radius: 10px;
}

.similar-list::-webkit-scrollbar-thumb {
  background: var(--pink);
  border-radius: 10px;
}

.similar-list {
  scrollbar-width: thin;
  scrollbar-color: var(--pink) var(--gray);
}

.color-options {
  display: flex;
  gap: 0.75rem;
  margin: 0.5rem 0 1rem;
}

.color-box {
  width: 30px;
  height: 30px;
  border: 2px solid transparent;
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.color-box.selected {
  border: 2px solid var(--pink);
  transform: scale(1.2);
}

.quantity input {
  width: 60px;
  padding: 0.3rem;
  border: 1px solid #ccc;
  border-radius: 0.5rem;
}



  </style>
</head>
<body>
  <!-- Cart Icon Floating Button -->
<div id="cartIcon" onclick="goToCartPage()" style="
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--pink);
  color: white;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  cursor: pointer;
  z-index: 999;
">
  üõí<span id="cartCount" style="
    background: white;
    color: var(--pink);
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 0.75rem;
    margin-left: 2px;
  ">0</span>
</div>

  <div class="container">
    <!-- Product Section -->
    <div class="product-page">
      <div class="product-images">
        <img id="mainImage" src="cloth.png" alt="Main Product">
        <div class="thumbnail-slider" id="slider">
          <img class="thumb active" src="cloth.png">
          <img class="thumb" src="cloth.png">
          <img class="thumb" src="cloth.png">
          <img class="thumb" src="iphone.jpg">
        </div>
      </div>
      <div class="product-details">
        <div class="product-info">
          <h1>Elegant Women's Sneakers</h1>
          <div class="price">‚Ç¶15,000</div>
          <p class="description">Stylish pink sneakers for comfort and fashion-forward everyday wear.</p>
          <div class="sizes">
            <h3>Select Size:</h3>
            <div class="size-options">
              <div class="size-box" onclick="selectSize(this)">36</div>
              <div class="size-box" onclick="selectSize(this)">37</div>
              <div class="size-box" onclick="selectSize(this)">38</div>
              <div class="size-box" onclick="selectSize(this)">39</div>
              <div class="size-box" onclick="selectSize(this)">40</div>
            </div>
          </div>

          <!-- Insert this in your product details just after size options -->
<div class="colors">
  <h3>Select Color:</h3>
  <div class="color-options">
    <div class="color-box" style="background: pink;" data-color="Pink"></div>
    <div class="color-box" style="background: black;" data-color="Black"></div>
    <div class="color-box" style="background: white; border: 1px solid #ccc;" data-color="White"></div>
  </div>
</div>

<div class="quantity">
  <h3>Quantity:</h3>
  <input type="number" id="quantityInput" min="1" value="1" />
</div>

        </div>
        <div class="buttons">
          <button class="add-to-cart">Add to Cart</button>
          <button class="buy-now">Buy Now</button>
        </div>
      </div>
    </div>

    <!-- Similar Products -->
    <div class="similar-products">
      <h2>Similar Products</h2>
      <div class="similar-list">
        <div class="similar-card">
          <img src="cloth.png" alt="Soft Mesh Sneaker">
          <p>Soft Mesh Sneaker</p>
          <a href="#">View</a>
        </div>
        <div class="similar-card">
          <img src="iphone.jpg" alt="Classic White">
          <p>Classic White</p>
          <a href="#">View</a>
        </div>
        <div class="similar-card">
          <img src="cloth.png" alt="Pink Luxe">
          <p>Pink Luxe</p>
          <a href="#">View</a>
        </div>
      </div>
    </div>

    <!-- Reviews -->
    <div class="reviews">
      <h2>Customer Reviews</h2>
      <form id="reviewForm">
        <input type="text" id="name" placeholder="Your Name" required>
        <textarea id="comment" placeholder="Write a review..." required></textarea>
        <div class="stars" id="starSelect">
          <span data-value="1">&#9733;</span>
          <span data-value="2">&#9733;</span>
          <span data-value="3">&#9733;</span>
          <span data-value="4">&#9733;</span>
          <span data-value="5">&#9733;</span>
        </div>
        <input type="hidden" id="rating" value="0">
        <button type="submit">Submit Review</button>
      </form>
      <div id="allReviews"></div>
    </div>
  </div>

  <!--
    - FOOTER
  -->

  <footer>

    <div class="footer-category">

      <div class="container">

        <h2 class="footer-category-title">Brand directory</h2>

        <div class="footer-category-box">

          <h3 class="category-box-title">Fashion :</h3>

          <a href="#" class="footer-category-link">T-shirt</a>
          <a href="#" class="footer-category-link">Shirts</a>
          <a href="#" class="footer-category-link">shorts & jeans</a>
          <a href="#" class="footer-category-link">jacket</a>
          <a href="#" class="footer-category-link">dress & frock</a>
          <a href="#" class="footer-category-link">innerwear</a>
          <a href="#" class="footer-category-link">hosiery</a>

        </div>

        <div class="footer-category-box">
          <h3 class="category-box-title">footwear :</h3>
        
          <a href="#" class="footer-category-link">sport</a>
          <a href="#" class="footer-category-link">formal</a>
          <a href="#" class="footer-category-link">Boots</a>
          <a href="#" class="footer-category-link">casual</a>
          <a href="#" class="footer-category-link">cowboy shoes</a>
          <a href="#" class="footer-category-link">safety shoes</a>
          <a href="#" class="footer-category-link">Party wear shoes</a>
          <a href="#" class="footer-category-link">Branded</a>
          <a href="#" class="footer-category-link">Firstcopy</a>
          <a href="#" class="footer-category-link">Long shoes</a>
        </div>

        <div class="footer-category-box">
          <h3 class="category-box-title">jewellery :</h3>
        
          <a href="#" class="footer-category-link">Necklace</a>
          <a href="#" class="footer-category-link">Earrings</a>
          <a href="#" class="footer-category-link">Couple rings</a>
          <a href="#" class="footer-category-link">Pendants</a>
          <a href="#" class="footer-category-link">Crystal</a>
          <a href="#" class="footer-category-link">Bangles</a>
          <a href="#" class="footer-category-link">bracelets</a>
          <a href="#" class="footer-category-link">nosepin</a>
          <a href="#" class="footer-category-link">chain</a>
          <a href="#" class="footer-category-link">Earrings</a>
          <a href="#" class="footer-category-link">Couple rings</a>
        </div>

        <div class="footer-category-box">
          <h3 class="category-box-title">cosmetics :</h3>
        
          <a href="#" class="footer-category-link">Shampoo</a>
          <a href="#" class="footer-category-link">Bodywash</a>
          <a href="#" class="footer-category-link">Facewash</a>
          <a href="#" class="footer-category-link">makeup kit</a>
          <a href="#" class="footer-category-link">liner</a>
          <a href="#" class="footer-category-link">lipstick</a>
          <a href="#" class="footer-category-link">prefume</a>
          <a href="#" class="footer-category-link">Body soap</a>
          <a href="#" class="footer-category-link">scrub</a>
          <a href="#" class="footer-category-link">hair gel</a>
          <a href="#" class="footer-category-link">hair colors</a>
          <a href="#" class="footer-category-link">hair dye</a>
          <a href="#" class="footer-category-link">sunscreen</a>
          <a href="#" class="footer-category-link">skin loson</a>
          <a href="#" class="footer-category-link">liner</a>
          <a href="#" class="footer-category-link">lipstick</a>
        </div>

      </div>

    </div>

    <div class="footer-nav">

      <div class="container">

        <ul class="footer-nav-list">

          <li class="footer-nav-item">
            <h2 class="nav-title">Popular Categories</h2>
          </li>

          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Fashion</a>
          </li>

          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Electronic</a>
          </li>

          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Cosmetic</a>
          </li>

          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Health</a>
          </li>

          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Watches</a>
          </li>

        </ul>

        <ul class="footer-nav-list">
        
          <li class="footer-nav-item">
            <h2 class="nav-title">Products</h2>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Prices drop</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">New products</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Best sales</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Contact us</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Sitemap</a>
          </li>
        
        </ul>

        <ul class="footer-nav-list">
        
          <li class="footer-nav-item">
            <h2 class="nav-title">Our Company</h2>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Delivery</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Legal Notice</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Terms and conditions</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">About us</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Secure payment</a>
          </li>
        
        </ul>

        <ul class="footer-nav-list">
        
          <li class="footer-nav-item">
            <h2 class="nav-title">Services</h2>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Prices drop</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">New products</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Best sales</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Contact us</a>
          </li>
        
          <li class="footer-nav-item">
            <a href="#" class="footer-nav-link">Sitemap</a>
          </li>
        
        </ul>

        <ul class="footer-nav-list">

          <li class="footer-nav-item">
            <h2 class="nav-title">Contact</h2>
          </li>

          <li class="footer-nav-item flex">
            <div class="icon-box">
              <ion-icon name="location-outline"></ion-icon>
            </div>

            <address class="content">
              419 State 414 Rte
              Beaver Dams, New York(NY), 14812, USA
            </address>
          </li>

          <li class="footer-nav-item flex">
            <div class="icon-box">
              <ion-icon name="call-outline"></ion-icon>
            </div>

            <a href="tel:+607936-8058" class="footer-nav-link">(607) 936-8058</a>
          </li>

          <li class="footer-nav-item flex">
            <div class="icon-box">
              <ion-icon name="mail-outline"></ion-icon>
            </div>

            <a href="mailto:example@gmail.com" class="footer-nav-link">example@gmail.com</a>
          </li>

        </ul>

        <ul class="footer-nav-list">

          <li class="footer-nav-item">
            <h2 class="nav-title">Follow Us</h2>
          </li>

          <li>
            <ul class="social-link">

              <li class="footer-nav-item">
                <a href="#" class="footer-nav-link">
                  <ion-icon name="logo-facebook"></ion-icon>
                </a>
              </li>

              <li class="footer-nav-item">
                <a href="#" class="footer-nav-link">
                  <ion-icon name="logo-twitter"></ion-icon>
                </a>
              </li>

              <li class="footer-nav-item">
                <a href="#" class="footer-nav-link">
                  <ion-icon name="logo-linkedin"></ion-icon>
                </a>
              </li>

              <li class="footer-nav-item">
                <a href="#" class="footer-nav-link">
                  <ion-icon name="logo-instagram"></ion-icon>
                </a>
              </li>

            </ul>
          </li>

        </ul>

      </div>

    </div>

    <div class="footer-bottom">

      <div class="container">

        <img src="./assets/images/payment.png" alt="payment method" class="payment-img">

        <p class="copyright">
          Copyright &copy; <a href="#">Toposhcollections All Right Reservered
        </p>

      </div>

    </div>

  </footer>





<script src="product.js"></script>
<script src="../assets/js/search.js"></script>
<script src="../assets/js/script.js"></script>




<script>

function getCart() {
  return JSON.parse(localStorage.getItem('cart')) || [];
}

function updateCartCount() {
  const cart = getCart();
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  document.getElementById('cartCount').textContent = totalItems;
}

function addToCart() {
  if (!selectedSize) {
    alert('Please select a size before adding to cart.');
    return;
  }
  if (!selectedColor) {
    alert('Please select a color before adding to cart.');
    return;
  }

  const quantity = getQuantity();

  const product = {
    name: "Elegant Women's Sneakers",
    price: '‚Ç¶15,000',
    size: selectedSize,
    color: selectedColor,
    image: 'cloth.png'
  };

  const cart = getCart();

  const existingProduct = cart.find(item =>
    item.name === product.name &&
    item.size === product.size &&
    item.color === product.color
  );

  if (existingProduct) {
    existingProduct.quantity += quantity;
  } else {
    product.quantity = quantity;
    cart.push(product);
  }

  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();

  alert(`${quantity} x ${product.name} (Size ${product.size}, Color ${product.color}) added to cart!`);
}

function goToCartPage() {
  window.location.href = 'cart.html';
}

document.querySelector('.add-to-cart').addEventListener('click', addToCart);
updateCartCount();

// -- Other Product Selection Functionalities --

let selectedColor = null;
let selectedSize = null;

document.querySelectorAll('.color-box').forEach(box => {
  box.addEventListener('click', () => {
    document.querySelectorAll('.color-box').forEach(c => c.classList.remove('selected'));
    box.classList.add('selected');
    selectedColor = box.dataset.color;
  });
});

function getQuantity() {
  const qty = parseInt(document.getElementById('quantityInput').value);
  return isNaN(qty) || qty < 1 ? 1 : qty;
}

function selectSize(el) {
  document.querySelectorAll('.size-box').forEach(box => box.classList.remove('selected'));
  el.classList.add('selected');
  selectedSize = el.textContent;
}

document.querySelector('.buy-now').addEventListener('click', () => {
  if (!selectedSize || !selectedColor) {
    alert('Please select size and color before buying.');
    return;
  }
  const quantity = getQuantity();
  alert(`Proceeding to checkout with ${quantity} item(s) of size ${selectedSize}, color ${selectedColor}.`);
});

// -- Image Slider Logic --

const images = ["cloth.png", "cloth.png", "cloth.png", "iphone.jpg"];
const mainImg = document.getElementById("mainImage");
const thumbnails = document.querySelectorAll('.thumb');
let currentIndex = 0;
let intervalId;

function changeImage(index) {
  mainImg.src = images[index];
  thumbnails.forEach((img, i) => img.classList.toggle('active', i === index));
}

function autoSlide() {
  currentIndex = (currentIndex + 1) % images.length;
  changeImage(currentIndex);
}

intervalId = setInterval(autoSlide, 3000);

thumbnails.forEach((thumb, index) => {
  thumb.addEventListener('click', () => {
    clearInterval(intervalId);
    changeImage(index);
    currentIndex = index;
    intervalId = setInterval(autoSlide, 3000);
  });
});

// -- Review System Logic --

const stars = document.querySelectorAll('#starSelect span');
const ratingInput = document.getElementById('rating');

stars.forEach(star => {
  star.addEventListener('click', () => {
    const value = parseInt(star.dataset.value);
    ratingInput.value = value;
    stars.forEach(s => s.classList.remove('selected'));
    for (let i = 0; i < value; i++) {
      stars[i].classList.add('selected');
    }
  });
});

// Product ID for this page's reviews
const productId = 'sneakers-002';
const BACKEND_URL = 'https://review-selection.vercel.app';

document.getElementById('reviewForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const name = document.getElementById('name').value;
  const comment = document.getElementById('comment').value;
  const rating = parseInt(document.getElementById('rating').value);

  if (!rating) return alert('Please select a star rating.');

  try {
    const res = await fetch(`${BACKEND_URL}/api/reviews`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ name, comment, rating, productId })
    });

    if (res.ok) {
      alert("Review submitted!");
      loadReviews();
      document.getElementById('reviewForm').reset();
      stars.forEach(s => s.classList.remove('selected'));
    } else {
      alert("Failed to submit review.");
    }
  } catch (err) {
    console.error(err);
    alert("Error submitting review.");
  }
});

async function loadReviews() {
  try {
    const res = await fetch(`${BACKEND_URL}/api/reviews?productId=${productId}`);
    const reviews = await res.json();
    const container = document.getElementById('allReviews');
    container.innerHTML = '';
    reviews.forEach(r => {
      container.innerHTML += `
        <div class="review">
          <strong>${r.name}</strong>
          <div>${'‚òÖ'.repeat(r.rating)}${'‚òÜ'.repeat(5 - r.rating)}</div>
          <p>${r.comment}</p>
        </div>
      `;
    });
  } catch (err) {
    console.error("Failed to load reviews.");
  }
}

loadReviews();

</script>


  <!--
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>
</html>
